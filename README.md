Database model and SQL code

